# smplayer-lirc
LIRC and Remote Control support for SMPlayer (rpm)

Пакет smplayer-lirc ставит всё необходимое и делает первичную настройку. В меню, рядом с ярлыками запуска SMPlayer и SMTube будет создан дополнительный ярлык "SMPlayer (LIRC)" для запуска проигрывателя с поддержкой пульта.

ИК-датчик и пульт были взяты от древнего телевизора GoldStar. ИК-датчик был собран по схеме (см. скриншот) и подключен к COM-порту (/dev/ttyS0). 

Поскольку параметры у всех пультов разные, можно перестроить работу на другой пульт. Для этого достаточно перезаписать коды кнопок пульта с помощью команды `irrecord -f` и заменить полученным в результате файлом -> файл `/etc/lirc/lircd.conf` + перезапустить LIRC: `systemctl restart lircd`.

Карта кнопок пульта для SMPlayer (~/.lircrc):
+ KEY_OK - play/pause
+ KEY_UP - предыдущий канал
+ KEY_DOWN - следующий канал
+ KEY_POWER - закрыть SMPlayer
+ KEY_LEFT - уменьшить громкость
+ KEY_RIGHT - увеличить громкость
+ KEY_MUTE - отключить/включить звук
+ KEY_NUMERIC_0 - полный экран

**Полезные команды при запущенном lircd.service:**  
+ `mode2` - проверить, видит ли комп нажатие любых кнопок пульта  
+ `irrecord -f` - создаёт файл с кодами нажатых кнопок с названиями вида KEY_BlaBla (см. выше про файл /etc/lirc/lircd.conf)
+ `service restart lircd` - перезапуск lircd/перечитывает новый конфиг с кодами кнопок (/etc/lirc/lircd.conf)
+ `irw` - вывести название/код уже записанных кнопок с именем пульта

**В настройках SMPlayer:**  
+ Выбрать: Основные-Движок воспроизведения-mpv  
+ Снять галку: Дополнительно-MPlayer/mpv-Уведомления о сбоях MPlayer/mpv

...и загрузить плейлист *.m3u в SMPlayer
